(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+NYR":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("XNiG"),s=i("fXoL"),r=i("tyNb");class a{constructor(e){this.router=e,this.changeRoute=new n.a}fetchRoutes(){return this.changeRoute.asObservable()}updateRoute(e){this.changeRoute.next(e)}getReviewPage(e,t,i,n,s){this.router.navigate(["project/acceptance-review/start-review/"+e+"/"+t+"/"+i+"/"+n],{queryParams:{page:s}})}finishReview(){this.router.navigateByUrl("project/acceptance-review/finish-review")}getReviewBrowser(){this.router.navigateByUrl("project/acceptance-review/select-review")}previousPage(){window.history.back()}}a.\u0275fac=function(e){return new(e||a)(s.oc(r.c))},a.\u0275prov=s.ac({token:a,factory:a.\u0275fac,providedIn:"root"})},"85nd":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("fXoL"),s=i("jhN1");class r{constructor(e){this._sanitizer=e}transform(e){return this._sanitizer.bypassSecurityTrustHtml(e)}}r.\u0275fac=function(e){return new(e||r)(n.ec(s.b))},r.\u0275pipe=n.dc({name:"sanitizeHtml",type:r,pure:!0})},Y676:function(e,t,i){"use strict";i.r(t);var n=i("ofXK"),s=i("tyNb"),r=i("c3AT"),a=i("fXoL");var c=i("3Pt+"),o=i("85nd");const l=["question"];function h(e,t){1&e&&(a.kc(0,"span",17),a.Sc(1," This question requires an answer. "),a.jc())}function d(e,t){if(1&e){const e=a.lc();a.kc(0,"div",4),a.Rc(1,h,2,0,"span",5),a.kc(2,"div",6),a.kc(3,"span",7),a.Sc(4),a.jc(),a.fc(5,"div",8),a.wc(6,"sanitizeHtml"),a.jc(),a.kc(7,"div",9),a.kc(8,"label",10),a.fc(9,"i",11),a.kc(10,"input",12,13),a.sc("ngModelChange",(function(i){return a.Jc(e),t.$implicit.passed=i}))("click",(function(){return a.Jc(e),a.vc().updateRequirement()})),a.jc(),a.Sc(13,"Pass "),a.jc(),a.kc(14,"label",14),a.fc(15,"i",15),a.kc(16,"input",12,16),a.sc("ngModelChange",(function(i){return a.Jc(e),t.$implicit.passed=i}))("click",(function(){return a.Jc(e),a.vc().updateRequirement()})),a.jc(),a.Sc(19,"Fail "),a.jc(),a.jc(),a.jc()}if(2&e){const e=t.$implicit,i=t.index,n=a.Hc(11),s=a.Hc(12),r=a.Hc(18);a.Sb(1),a.Ac("ngIf",n.invalid&&(n.dirty||n.touched)),a.Sb(3),a.Uc("",e.index,". "),a.Sb(1),a.Ac("innerHtml",a.xc(6,11,e.description),a.Kc),a.Sb(3),a.Ac("ngClass",s.checked?"active":""),a.Sb(2),a.Ac("value",!0)("ngModel",e.passed)("name","pass"+i),a.Sb(4),a.Ac("ngClass",r.checked?"active":""),a.Sb(2),a.Ac("value",!1)("ngModel",e.passed)("name","fail"+i)}}class p{constructor(){this.remainingPages="",this.answerChange=new a.t}updateRequirement(){this.answerChange.emit()}isValid(){return 0==this.questions.filter(e=>e.control.invalid).length}validatePage(){this.questions.forEach(e=>e.control.markAsTouched())}}p.\u0275fac=function(e){return new(e||p)},p.\u0275cmp=a.Yb({type:p,selectors:[["app-task-page"]],viewQuery:function(e,t){var i;(1&e&&a.Wc(l,!0),2&e)&&(a.Gc(i=a.tc())&&(t.questions=i))},inputs:{task:"task",remainingPages:"remainingPages"},outputs:{answerChange:"answerChange"},decls:8,vars:6,consts:[[1,"d-flex"],[1,"p-2","h2"],[1,"h4","mb-5",3,"innerHtml"],["class","mb-5",4,"ngFor","ngForOf"],[1,"mb-5"],["style","color: red",4,"ngIf"],[1,"d-flex","flex-row"],[1,"h4","mt-2","task-index"],[1,"h4","mt-2",3,"innerHtml"],["data-toggle","buttons",1,"btn-group-toggle"],[1,"btn","btn-task","btn-outline-success","mr-5",3,"ngClass"],[1,"fas","fa-thumbs-up","mr-1"],["type","radio","required","",3,"value","ngModel","name","ngModelChange","click"],["question","ngModel","pass",""],[1,"btn","btn-task","btn-outline-danger",3,"ngClass"],[1,"mr-1","fas","fa-thumbs-down"],["question","ngModel","fail",""],[2,"color","red"]],template:function(e,t){1&e&&(a.kc(0,"div",0),a.kc(1,"div",1),a.Sc(2),a.jc(),a.kc(3,"div",1),a.Sc(4),a.jc(),a.jc(),a.fc(5,"div",2),a.wc(6,"sanitizeHtml"),a.Rc(7,d,20,13,"div",3)),2&e&&(a.Sb(2),a.Tc(t.remainingPages),a.Sb(2),a.Tc(null==t.task?null:t.task.title),a.Sb(1),a.Ac("innerHtml",a.xc(6,4,null==t.task?null:t.task.description),a.Kc),a.Sb(2),a.Ac("ngForOf",null==t.task?null:t.task.requirements))},directives:[n.s,n.t,n.q,c.n,c.a,c.p,c.j,c.m],pipes:[o.a],styles:[".h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.ar-remaining-pages[_ngcontent-%COMP%], .ar-task-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:600}.btn-group-toggle[_ngcontent-%COMP%]   .btn-task[_ngcontent-%COMP%]{cursor:pointer}.btn-group-toggle[_ngcontent-%COMP%]   .btn-outline-success[_ngcontent-%COMP%]:active{background-color:#28a745}.btn-group-toggle[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:active{background-color:#db3f42}.task-index[_ngcontent-%COMP%]{white-space:pre-wrap}"]});var u=i("3LUQ"),g=i("U3vh"),m=i("5dVO"),b=i("+NYR"),v=i("Vq8o"),f=i("Qu3c"),_=i("Wp6s"),y=i("VF5p");class w{constructor(){this.remainingPages="",this.percentage=0}}function k(e,t){if(1&e&&a.fc(0,"app-progress-bar",12),2&e){const e=a.vc(2);a.Ac("remainingPages",e.remainingPages)("percentage",e.percentage)}}function j(e,t){if(1&e){const e=a.lc();a.kc(0,"button",13),a.sc("click",(function(){return a.Jc(e),a.vc(2).next()})),a.Sc(1,"Next"),a.jc()}}function C(e,t){if(1&e){const e=a.lc();a.kc(0,"button",13),a.sc("click",(function(){return a.Jc(e),a.vc(2).createReview()})),a.Sc(1,"Done"),a.jc()}}function S(e,t){if(1&e){const e=a.lc();a.kc(0,"div"),a.kc(1,"div",1),a.kc(2,"p",2),a.Sc(3),a.jc(),a.kc(4,"button",3),a.sc("click",(function(){return a.Jc(e),a.vc().cancelReview()})),a.fc(5,"i",4),a.jc(),a.jc(),a.fc(6,"mat-card",5),a.fc(7,"team-avatars",6),a.kc(8,"div"),a.kc(9,"app-task-page",7),a.sc("answerChange",(function(){return a.Jc(e),a.vc().onAnswerChange()})),a.jc(),a.jc(),a.kc(10,"div",8),a.Rc(11,k,1,2,"app-progress-bar",9),a.kc(12,"button",10),a.sc("click",(function(){return a.Jc(e),a.vc().prev()})),a.Sc(13,"Prev"),a.jc(),a.Rc(14,j,2,0,"button",11),a.Rc(15,C,2,0,"button",11),a.jc(),a.jc()}if(2&e){const e=a.vc();a.Sb(3),a.Uc("",null==e.reviewForm?null:e.reviewForm.baseProjectName," - Acceptance Review Form"),a.Sb(4),a.Ac("displayName",e.displayName)("avatars",e.project.avatars)("maxAvatars",4),a.Sb(2),a.Ac("remainingPages",e.remainingPages)("task",e.currentTask),a.Sb(2),a.Ac("ngIf",e.remainingPages.length>0),a.Sb(3),a.Ac("ngIf",!e.isReviewDone()),a.Sb(1),a.Ac("ngIf",e.isReviewDone())}}w.\u0275fac=function(e){return new(e||w)},w.\u0275cmp=a.Yb({type:w,selectors:[["app-progress-bar"]],inputs:{remainingPages:"remainingPages",percentage:"percentage"},decls:7,vars:3,consts:[[1,"d-flex","justify-content-around"],[1,"progress-holder"],[1,"mr-2","text-white"],["max","100",3,"value"],[1,"ml-2","text-white"]],template:function(e,t){1&e&&(a.kc(0,"div",0),a.kc(1,"div",1),a.kc(2,"span",2),a.Sc(3),a.jc(),a.fc(4,"progress",3),a.kc(5,"span",4),a.Sc(6),a.jc(),a.jc(),a.jc()),2&e&&(a.Sb(3),a.Tc(t.remainingPages),a.Sb(1),a.Ac("value",t.percentage),a.Sb(2),a.Uc("",t.percentage," %"))},styles:["progress[value][_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-color:#eee;width:250px;height:10px}progress[value][_ngcontent-%COMP%]::-webkit-progress-bar{border:2px solid #eee;background-color:#28a745;border-radius:8px;box-shadow:inset 0 2px 5px transparent}progress[value][_ngcontent-%COMP%]::-webkit-progress-value{border-radius:8px;background-color:#eee;background-size:35px 20px,100% 100%,100% 100%}.progress-holder[_ngcontent-%COMP%]{border-radius:8px;width:400px;background:#28a745}"]});class O{constructor(e,t,i,n,s,r,a){this.projectService=e,this.alertService=t,this.window=i,this.navigationService=n,this.route=s,this.confirmationServiceService=r,this._loaderService=a,this.isContentLoaded=!1,this.remainingPages="",this.displayName="",this.name="",this.percentage=0}ngOnInit(){this.ownerId=this.route.snapshot.params.ownerId,this.baseProjectName=this.route.snapshot.params.baseProjectName,this.assignmentType=this.route.snapshot.params.assignmentType,this.progLanguage=this.route.snapshot.params.progLanguage,this._loaderService.show(),this.reviewFormSubscription=this.projectService.getReviewForm(this.baseProjectName,this.ownerId,this.assignmentType,this.progLanguage).subscribe(e=>{this.reviewForm=e,this.indexRequirements(),this.readPageNumber(),this.project=this.reviewForm.project,this.calculateRemainingPages(),this.calculatePercentage(),this.displayName="TEAM"==this.project.assignmentType?this.project.title:this.project.ownerName,this.isContentLoaded=!0,this._loaderService.hide()})}readPageNumber(){this.route.queryParams.subscribe(e=>{const t=Number(e.page);this.currentTask=this.reviewForm.tasks[t],this.calculateRemainingPages()})}prev(){O.scrollToTop();const e=this.reviewForm.tasks.indexOf(this.currentTask);e>0&&this.taskPage.isValid()&&(this.getPreviousTaskPage(e),O.scrollToTop()),this.taskPage.isValid()||this.taskPage.validatePage(),this.calculateRemainingPages()}next(){const e=this.reviewForm.tasks.indexOf(this.currentTask);e<this.reviewForm.tasks.length-1&&this.taskPage.isValid()&&(this.getNextTaskPage(e),O.scrollToTop()),this.taskPage.isValid()||this.taskPage.validatePage(),this.calculateRemainingPages()}createReview(){this.projectService.createReview(this.baseProjectName,this.ownerId,this.assignmentType,this.progLanguage,this.reviewForm).subscribe(e=>{this.alertService.success("Acceptance Review successfully created!"),this.navigationService.finishReview()})}isReviewDone(){var e,t,i;return(null===(e=this.reviewForm)||void 0===e?void 0:e.tasks.indexOf(this.currentTask))==(null===(t=this.reviewForm)||void 0===t?void 0:t.tasks.length)-1&&(null===(i=this.taskPage)||void 0===i?void 0:i.isValid())}onAnswerChange(){setTimeout(()=>{this.calculatePercentage(),this.projectService.updateReviewDraft(this.baseProjectName,this.ownerId,this.assignmentType,this.progLanguage,this.reviewForm).subscribe(e=>{})},20)}calculateRemainingPages(){this.remainingPages=this.reviewForm.tasks.indexOf(this.currentTask)+1+" / "+this.reviewForm.tasks.length}getPreviousTaskPage(e){const t=e-1;this.currentTask=this.reviewForm.tasks[t],this.navigationService.getReviewPage(this.project.ownerEnrollmentId,this.project.baseProjectName,this.project.assignmentType,this.project.progLanguage,t)}getNextTaskPage(e){const t=e+1;this.currentTask=this.reviewForm.tasks[t],this.navigationService.getReviewPage(this.project.ownerEnrollmentId,this.project.baseProjectName,this.project.assignmentType,this.project.progLanguage,t)}static scrollToTop(){window.scroll(0,0)}indexRequirements(){this.reviewForm.tasks.flatMap(e=>e.requirements).forEach((e,t)=>e.index=t+1)}calculatePercentage(){var e,t;const i=null===(e=this.reviewForm)||void 0===e?void 0:e.tasks.flatMap(e=>e.requirements).length,n=null===(t=this.reviewForm)||void 0===t?void 0:t.tasks.flatMap(e=>e.requirements).filter(e=>null!=e.passed).length;this.percentage=Math.floor(n/i*100)}ngOnDestroy(){this.reviewFormSubscription.unsubscribe(),this.reviewFormSubscription=null}cancelReview(){this.confirmationServiceService.getConfirmation({title:"Are you sure you want to exit?",subTitle:" If you exit the answers on this review form will be lost.",okButton:"OK"}).subscribe(e=>{e&&this.projectService.cancelReview(this.baseProjectName,this.project.ownerEnrollmentId,this.project.assignmentType,this.project.progLanguage).subscribe(e=>this.navigationService.getReviewBrowser())})}}O.\u0275fac=function(e){return new(e||O)(a.ec(r.a),a.ec(u.a),a.ec(Window),a.ec(b.a),a.ec(s.a),a.ec(v.a),a.ec(m.a))},O.\u0275cmp=a.Yb({type:O,selectors:[["app-acceptance-review"]],viewQuery:function(e,t){var i;(1&e&&a.Wc(p,!0),2&e)&&(a.Gc(i=a.tc())&&(t.taskPage=i.first))},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"h2","ar-title"],["matTooltip","Exit","matTooltipPosition","above",1,"btn",3,"click"],[1,"fas","fa-times"],[2,"display","none"],[3,"displayName","avatars","maxAvatars"],[3,"remainingPages","task","answerChange"],[1,"text-center"],[3,"remainingPages","percentage",4,"ngIf"],[1,"btn","btn-success","mt-5","mr-1","nav-button",3,"click"],["class","btn btn-success mt-5 nav-button",3,"click",4,"ngIf"],[3,"remainingPages","percentage"],[1,"btn","btn-success","mt-5","nav-button",3,"click"]],template:function(e,t){1&e&&a.Rc(0,S,16,9,"div",0),2&e&&a.Ac("ngIf",t.isContentLoaded)},directives:[n.t,f.a,_.a,y.a,p,w],styles:[".ar-title[_ngcontent-%COMP%]{font-weight:500}.nav-button[_ngcontent-%COMP%]{width:80px;height:50px}"]});var x=i("AytR"),P=i("tk/3");class M{constructor(e){this.httpClient=e}getMyLocation(){return this.httpClient.get(x.a.backend+"/api/basedata/location")}getLocationsList(){return this.httpClient.get(x.a.backend+"/api/basedata/locations")}}M.\u0275fac=function(e){return new(e||M)(a.oc(P.b))},M.\u0275prov=a.ac({token:M,factory:M.\u0275fac,providedIn:"root"});var R=i("xYZG"),I=i("Sso+");var A=i("kmnG"),F=i("d3UM"),T=i("FKr1");function D(e,t){if(1&e&&(a.kc(0,"mat-option",5),a.Sc(1),a.jc()),2&e){const e=t.$implicit;a.Ac("value",e.name),a.Sb(1),a.Tc(e.name)}}class L{constructor(e){this.fb=e,this.locationChange=new a.t,this.locationControl=new c.c,this.options=e.group({location:this.locationControl})}ngOnInit(){this.options.controls.location.setValue(this.defaultLocation.name)}onLocationChange(e){const t=this.locations.find(t=>t.name===e.value);this.locationChange.emit(t)}}L.\u0275fac=function(e){return new(e||L)(a.ec(c.b))},L.\u0275cmp=a.Yb({type:L,selectors:[["app-location-selector"]],inputs:{locations:"locations",defaultLocation:"defaultLocation"},outputs:{locationChange:"locationChange"},decls:7,vars:3,consts:[[1,"location-selector-box"],[3,"formGroup"],["appearance","outline"],["ngDefaultControl","",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a.kc(0,"div",0),a.kc(1,"form",1),a.kc(2,"mat-form-field",2),a.kc(3,"mat-label"),a.Sc(4,"Location"),a.jc(),a.kc(5,"mat-select",3),a.sc("selectionChange",(function(e){return t.onLocationChange(e)})),a.Rc(6,D,2,2,"mat-option",4),a.jc(),a.jc(),a.jc(),a.jc()),2&e&&(a.Sb(1),a.Ac("formGroup",t.options),a.Sb(4),a.Ac("formControl",t.locationControl),a.Sb(1),a.Ac("ngForOf",t.locations))},directives:[c.q,c.k,c.e,A.b,A.f,F.a,c.a,c.j,c.d,n.s,T.i],styles:[".location-selector-box[_ngcontent-%COMP%]{font-size:11px}"]});var q=i("bTqV");function N(e,t){if(1&e&&(a.kc(0,"div",7),a.kc(1,"div",8),a.Sc(2),a.jc(),a.kc(3,"div",9),a.fc(4,"team-avatars",10),a.jc(),a.jc()),2&e){const e=a.vc();a.Sb(2),a.Tc(e.project.title),a.Sb(2),a.Ac("avatars",e.project.avatars)("maxAvatars",4)}}function G(e,t){if(1&e&&(a.kc(0,"div",1),a.kc(1,"div",9),a.fc(2,"team-avatars",10),a.jc(),a.kc(3,"div",11),a.kc(4,"strong"),a.Sc(5),a.jc(),a.jc(),a.jc()),2&e){const e=a.vc();a.Sb(2),a.Ac("avatars",e.project.avatars)("maxAvatars",4),a.Sb(3),a.Tc(e.project.ownerName)}}class V{constructor(e,t){this.navigationService=e,this.confirmationServiceService=t}startReview(){const e=this.unfinished?"continue":"start",t={title:e.charAt(0).toUpperCase()+e.slice(1)+" review",subTitle:"Are you sure you want to "+e+" the acceptance review?",okButton:"Ok, "+e+" it."};this.confirmationServiceService.getConfirmation(t).subscribe(e=>{e&&this.navigationService.getReviewPage(this.project.ownerEnrollmentId,this.project.baseProjectName,this.project.assignmentType,this.project.progLanguage,0)})}getButtonText(){return this.unfinished?"Continue the review":"Start review"}}function z(e,t){if(1&e){const e=a.lc();a.kc(0,"app-location-selector",12),a.sc("locationChange",(function(t){return a.Jc(e),a.vc().onLocationChange(t)})),a.jc()}if(2&e){const e=a.vc();a.Ac("locations",e.locationList)("defaultLocation",e.location)}}function E(e,t){if(1&e&&(a.kc(0,"div",13),a.Sc(1),a.jc()),2&e){const e=a.vc();a.Sb(1),a.Uc("",null==e.pendingProjects?null:e.pendingProjects.length," project under review")}}function Y(e,t){if(1&e&&(a.kc(0,"div",13),a.Sc(1),a.jc()),2&e){const e=a.vc();a.Sb(1),a.Uc("",e.projects.length," projects waiting for review")}}function B(e,t){1&e&&(a.kc(0,"div",14),a.fc(1,"i",15),a.Sc(2," You have not completed the acceptance review for the project below. Please, continue as soon as possible.\n"),a.jc())}function U(e,t){if(1&e&&(a.kc(0,"div",16),a.fc(1,"app-review-card",17),a.jc()),2&e){const e=t.$implicit;a.Sb(1),a.Ac("project",e)("unfinished",!0)}}function H(e,t){if(1&e&&(a.kc(0,"div",5),a.kc(1,"div",13),a.Sc(2),a.jc(),a.jc()),2&e){const e=a.vc();a.Sb(2),a.Uc("",e.projects.length," projects waiting for review")}}function W(e,t){if(1&e&&(a.kc(0,"div",16),a.fc(1,"app-review-card",18),a.jc()),2&e){const e=t.$implicit;a.Sb(1),a.Ac("project",e)}}V.\u0275fac=function(e){return new(e||V)(a.ec(b.a),a.ec(v.a))},V.\u0275cmp=a.Yb({type:V,selectors:[["app-review-card"]],inputs:{project:"project",unfinished:"unfinished"},decls:9,vars:5,consts:[[1,"team-card",3,"ngClass","click"],[1,"d-flex","flex-row"],[1,"p-2","card-title"],["class","d-flex flex-column",4,"ngIf"],["class","d-flex flex-row",4,"ngIf"],[1,"d-flex","justify-content-center","start-review-button"],["mat-raised-button","",1,"btn","btn-success"],[1,"d-flex","flex-column"],[1,"p-2","team-name"],[1,"p-2"],[3,"avatars","maxAvatars"],[1,"p-2","mt-3","owner"]],template:function(e,t){1&e&&(a.kc(0,"mat-card",0),a.sc("click",(function(){return t.startReview()})),a.kc(1,"div",1),a.kc(2,"div",2),a.Sc(3),a.jc(),a.jc(),a.Rc(4,N,5,3,"div",3),a.Rc(5,G,6,3,"div",4),a.kc(6,"div",5),a.kc(7,"button",6),a.Sc(8),a.jc(),a.jc(),a.jc()),2&e&&(a.Ac("ngClass",t.unfinished&&"card-unfinished"),a.Sb(3),a.Tc(t.project.baseProjectName),a.Sb(1),a.Ac("ngIf","TEAM"==t.project.assignmentType),a.Sb(1),a.Ac("ngIf","SOLO"==t.project.assignmentType),a.Sb(3),a.Tc(t.getButtonText()))},directives:[_.a,n.q,n.t,q.b,y.a],styles:[".team-card[_ngcontent-%COMP%]{max-width:350px;min-height:250px;margin-bottom:10px;cursor:pointer}.team-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .team-card[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%], .team-card[_ngcontent-%COMP%]   .team-name[_ngcontent-%COMP%]{font-family:Montserrat Regular,sans-serif;font-weight:700}.team-card[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%]{margin-left:-30px}.team-card[_ngcontent-%COMP%]   .start-review-button[_ngcontent-%COMP%]{position:absolute;bottom:20px;width:100%;left:0}.card-unfinished[_ngcontent-%COMP%]{background:#fae8e8}"]});const K=function(){return["title","ownerName","teamMemberNames","baseProjectName"]};class X{constructor(e,t,i){this.projectService=e,this.loaderService=t,this._baseDataService=i,this.projects=[],this.projectsCopy=[],this.pendingProjects=[]}ngOnInit(){this.loaderService.show(),this.locationsListSubscription=this._baseDataService.getLocationsList().subscribe(e=>{this.locationList=e}),this.locationSubscription=this._baseDataService.getMyLocation().subscribe(e=>{this.location=e,this.loadUnderReviewProjects(),this.loadReviews()})}ngOnDestroy(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null),this.locationsListSubscription&&(this.locationsListSubscription.unsubscribe(),this.locationsListSubscription=null),this.reviewsSubscription&&(this.reviewsSubscription.unsubscribe(),this.reviewsSubscription=null)}loadUnderReviewProjects(){this.projectService.getMyUnfinishedReviews().subscribe(e=>{this.pendingProjects=e})}loadReviews(){this.loaderService.show(),this.reviewsSubscription=this.projectService.getWaitingForReviewProjectsByLocation(this.location.code).subscribe(e=>{this.projects=e,this.projectsCopy=this.projects,this.loaderService.hide()})}onLocationChange(e){this.location=e,this.loadReviews()}onSearchResult(e){this.projects=e}isPendingProject(){return this.pendingProjects.length>0}}X.\u0275fac=function(e){return new(e||X)(a.ec(r.a),a.ec(m.a),a.ec(M))},X.\u0275cmp=a.Yb({type:X,selectors:[["app-waiting-for-review-list"]],decls:16,vars:13,consts:[[1,"title-box"],[1,"h2","title"],[1,"d-flex","justify-content-between","mb-5","controls-box"],[3,"projects","projectsCopy","fieldsToSearch","label","searchResult"],[3,"locations","defaultLocation","locationChange",4,"ngIf"],[1,"d-flex","justify-content-between","mb-5"],["class","h3",4,"ngIf"],[3,"projects"],["class","warning mb-5",4,"ngIf"],[1,"row"],["class","col-sm-4 mb-4",4,"ngFor","ngForOf"],["class","d-flex justify-content-between mb-5",4,"ngIf"],[3,"locations","defaultLocation","locationChange"],[1,"h3"],[1,"warning","mb-5"],["aria-hidden","true",1,"fa","fa-2x","fa-exclamation-circle","ml-2","mr-2",2,"color","#DB3F42"],[1,"col-sm-4","mb-4"],[3,"project","unfinished"],[3,"project"]],template:function(e,t){1&e&&(a.kc(0,"div",0),a.kc(1,"p",1),a.Sc(2,"Acceptance Review"),a.jc(),a.kc(3,"div",2),a.kc(4,"app-search",3),a.sc("searchResult",(function(e){return t.onSearchResult(e)})),a.jc(),a.Rc(5,z,1,2,"app-location-selector",4),a.jc(),a.jc(),a.kc(6,"div",5),a.Rc(7,E,2,1,"div",6),a.Rc(8,Y,2,1,"div",6),a.fc(9,"app-project-sort",7),a.jc(),a.Rc(10,B,3,0,"div",8),a.kc(11,"div",9),a.Rc(12,U,2,2,"div",10),a.jc(),a.Rc(13,H,3,1,"div",11),a.kc(14,"div",9),a.Rc(15,W,2,1,"div",10),a.jc()),2&e&&(a.Sb(4),a.Ac("projects",t.projects)("projectsCopy",t.projectsCopy)("fieldsToSearch",a.Cc(12,K))("label","Search for student or project..."),a.Sb(1),a.Ac("ngIf",t.location),a.Sb(2),a.Ac("ngIf",t.isPendingProject()),a.Sb(1),a.Ac("ngIf",!t.isPendingProject()),a.Sb(1),a.Ac("projects",t.projects),a.Sb(1),a.Ac("ngIf",t.isPendingProject()),a.Sb(2),a.Ac("ngForOf",t.pendingProjects),a.Sb(1),a.Ac("ngIf",t.isPendingProject()),a.Sb(2),a.Ac("ngForOf",t.projects))},directives:[R.a,n.t,I.a,n.s,L,V],styles:[".title-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500}.title-box[_ngcontent-%COMP%]   .controls-box[_ngcontent-%COMP%]{align-items:baseline}.warning[_ngcontent-%COMP%]{vertical-align:auto;border:1px solid #db3f42;border-radius:4px;width:80%;height:40px;line-height:40px}.fa-exclamation-circle[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}"]});class J{}J.\u0275fac=function(e){return new(e||J)},J.\u0275cmp=a.Yb({type:J,selectors:[["app-thank-you-page"]],decls:4,vars:0,consts:[[1,"d-flex","justify-content-around","h2"],["width","100px","src","assets/codecool_logo.png"]],template:function(e,t){1&e&&(a.kc(0,"div",0),a.fc(1,"img",1),a.jc(),a.kc(2,"div",0),a.Sc(3," Thank you for finishing the review.\n"),a.jc())},styles:[""]});class ${}function Q(e,t){1&e&&(a.kc(0,"div",15),a.fc(1,"i",16),a.Sc(2,"Pass "),a.jc())}function Z(e,t){1&e&&(a.kc(0,"div",17),a.fc(1,"i",18),a.Sc(2,"Fail "),a.jc())}function ee(e,t){if(1&e&&(a.kc(0,"div",10),a.kc(1,"div",11),a.kc(2,"span"),a.Sc(3),a.jc(),a.fc(4,"div",12),a.wc(5,"sanitizeHtml"),a.jc(),a.Rc(6,Q,3,0,"div",13),a.Rc(7,Z,3,0,"div",14),a.jc()),2&e){const e=t.$implicit;a.Sb(3),a.Uc("",e.index,".\xa0"),a.Sb(1),a.Ac("innerHTML",a.xc(5,4,e.description),a.Kc),a.Sb(2),a.Ac("ngIf",e.passed),a.Sb(1),a.Ac("ngIf",!e.passed)}}function te(e,t){if(1&e&&(a.kc(0,"div",7),a.fc(1,"div",8),a.wc(2,"sanitizeHtml"),a.Rc(3,ee,8,6,"div",9),a.jc()),2&e){const e=t.$implicit;a.Sb(1),a.Ac("innerHtml",e.title?e.title:a.xc(2,2,e.description),a.Kc),a.Sb(2),a.Ac("ngForOf",e.requirements)}}$.\u0275fac=function(e){return new(e||$)},$.\u0275cmp=a.Yb({type:$,selectors:[["app-review-details"]],inputs:{reviewForm:"reviewForm"},decls:9,vars:4,consts:[[1,"d-flex","flex-row"],[1,"mr-3","review-detail"]],template:function(e,t){1&e&&(a.kc(0,"div",0),a.kc(1,"div",1),a.Sc(2),a.jc(),a.kc(3,"div",1),a.Sc(4),a.jc(),a.kc(5,"div",1),a.Sc(6),a.jc(),a.kc(7,"div",1),a.Sc(8),a.jc(),a.jc()),2&e&&(a.Sb(2),a.Uc("Result: ",null==t.reviewForm?null:t.reviewForm.result,"%"),a.Sb(2),a.Uc("",null==t.reviewForm?null:null==t.reviewForm.project?null:t.reviewForm.project.assignmentType," project"),a.Sb(2),a.Uc("Review date: ",null==t.reviewForm?null:t.reviewForm.reviewDate,""),a.Sb(2),a.Uc("Reviewer: ",null==t.reviewForm?null:t.reviewForm.reviewer,""))},styles:[".review-detail[_ngcontent-%COMP%]{color:#5d5d5d;font-family:Montserrat,sans-serif;font-size:14px;letter-spacing:0;line-height:18px}.result-button[_ngcontent-%COMP%]{margin-top:-10px}.btn-outline-success[_ngcontent-%COMP%]:hover{background-color:transparent!important}"]});class ie{constructor(e,t,i,n,s,r,a){this.projectService=e,this.route=t,this._router=i,this._navigationService=n,this._loaderService=s,this._confirmationService=r,this._alertService=a}ngOnInit(){const e=this.route.snapshot.params.ownerId,t=this.route.snapshot.params.baseProjectName,i=this.route.snapshot.params.assignmentType,n=this.route.snapshot.params.progLanguage,s=this.route.snapshot.params.reviewId;this._loaderService.show(),this.reviewFormSubscription=this.projectService.getReviewForm(t,e,i,n,s).subscribe(e=>{this.reviewForm=e,this.project=this.reviewForm.project,this.tasks=this.reviewForm.tasks,this.indexRequirements(),this._loaderService.hide()})}restartProject(){this._confirmationService.getConfirmation({title:"You are trying to restart the project.",subTitle:"Are you sure you want to restart it?",okButton:"OK"}).subscribe(e=>{e&&this.projectService.restartProject(this.project.assignmentType,this.project.baseProjectName,this.project.progLanguage).subscribe(e=>{this._alertService.success("Project successfully restarted!"),this._router.navigateByUrl(`/project/curriculum/project/${this.project.baseProjectName}/${this.project.assignmentType}/${this.project.progLanguage}`)})})}backToResultsPage(){this._navigationService.previousPage()}indexRequirements(){this.reviewForm.tasks.flatMap(e=>e.requirements).forEach((e,t)=>e.index=t+1)}ngOnDestroy(){this.reviewFormSubscription.unsubscribe(),this.reviewFormSubscription=null}}function ne(e,t){if(1&e&&(a.kc(0,"div",9),a.Sc(1),a.jc()),2&e){const e=a.vc();a.Sb(1),a.Tc(null==e.review?null:e.review.project.title)}}ie.\u0275fac=function(e){return new(e||ie)(a.ec(r.a),a.ec(s.a),a.ec(s.c),a.ec(b.a),a.ec(m.a),a.ec(v.a),a.ec(u.a))},ie.\u0275cmp=a.Yb({type:ie,selectors:[["app-view-result"]],decls:9,vars:3,consts:[[1,"h2","mb-5","ar-results-header"],[1,"ar-results-back",3,"click"],[1,"fa","fa-arrow-left","icon-button"],[1,"btn","btn-success","btn-restart",3,"click"],[1,"mb-5"],[3,"reviewForm"],["class","d-flex flex-column mb-4",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","mb-4"],[1,"card-title","mb-4",3,"innerHtml"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],[1,"d-flex","flex-row","description","mb-2"],[3,"innerHTML"],["class","ar-result-badge-pass mb-2",4,"ngIf"],["class","ar-result-badge-fail mb-2",4,"ngIf"],[1,"ar-result-badge-pass","mb-2"],[1,"far","fa-check-circle","mr-2"],[1,"ar-result-badge-fail","mb-2"],[1,"far","fa-times-circle","mr-2"]],template:function(e,t){1&e&&(a.kc(0,"div",0),a.kc(1,"span",1),a.sc("click",(function(){return t.backToResultsPage()})),a.fc(2,"i",2),a.jc(),a.Sc(3),a.kc(4,"button",3),a.sc("click",(function(){return t.restartProject()})),a.Sc(5,"Restart project"),a.jc(),a.jc(),a.kc(6,"div",4),a.fc(7,"app-review-details",5),a.jc(),a.Rc(8,te,4,4,"div",6)),2&e&&(a.Sb(3),a.Uc(" ",null==t.project?null:t.project.baseProjectName," - Acceptance Review Result "),a.Sb(4),a.Ac("reviewForm",t.reviewForm),a.Sb(1),a.Ac("ngForOf",t.tasks))},directives:[$,n.s,n.t],pipes:[o.a],styles:[".ar-results-header[_ngcontent-%COMP%]{display:flex}.ar-results-header[_ngcontent-%COMP%]   .ar-results-back[_ngcontent-%COMP%]{margin-right:15px}.ar-results-header[_ngcontent-%COMP%]   .ar-results-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;font-size:25px}.ar-results-header[_ngcontent-%COMP%]   .btn-restart[_ngcontent-%COMP%]{margin-left:auto}.card-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.h2[_ngcontent-%COMP%]{color:#676766}.ar-result-badge-pass[_ngcontent-%COMP%]{color:#28a745}.ar-result-badge-fail[_ngcontent-%COMP%], .ar-result-badge-pass[_ngcontent-%COMP%]{height:20px;font-family:Montserrat,sans-serif;font-size:16px;letter-spacing:0;line-height:20px}.ar-result-badge-fail[_ngcontent-%COMP%]{color:#db3f42}.description[_ngcontent-%COMP%]{color:#414042;font-family:Montserrat,sans-serif;font-size:16px;letter-spacing:0;line-height:39px}"]});class se{constructor(e){this.router=e}results(e){this.router.navigateByUrl("project/acceptance-review/view-review/"+e.project.ownerEnrollmentId+"/"+e.baseProjectName+"/"+e.project.assignmentType+"/"+e.project.progLanguage+"/"+e.reviewId)}}function re(e,t){if(1&e&&(a.kc(0,"div",10),a.fc(1,"app-result-card",11),a.jc()),2&e){const e=t.$implicit;a.Sb(1),a.Ac("review",e.reviewForm)}}function ae(e,t){if(1&e&&(a.kc(0,"div"),a.Rc(1,re,2,1,"div",9),a.jc()),2&e){const e=a.vc(2);a.Sb(1),a.Ac("ngForOf",e.projects)}}function ce(e,t){if(1&e&&(a.kc(0,"div",10),a.fc(1,"app-result-card",11),a.jc()),2&e){const e=t.$implicit;a.Sb(1),a.Ac("review",e.reviewForm)}}function oe(e,t){if(1&e&&(a.kc(0,"div"),a.Rc(1,ce,2,1,"div",9),a.jc()),2&e){const e=a.vc(2);a.Sb(1),a.Ac("ngForOf",e.teamProjects)}}function le(e,t){if(1&e&&(a.kc(0,"div",10),a.fc(1,"app-result-card",11),a.jc()),2&e){const e=t.$implicit;a.Sb(1),a.Ac("review",e.reviewForm)}}function he(e,t){if(1&e&&(a.kc(0,"div"),a.Rc(1,le,2,1,"div",9),a.jc()),2&e){const e=a.vc(2);a.Sb(1),a.Ac("ngForOf",e.soloProjects)}}se.\u0275fac=function(e){return new(e||se)(a.ec(s.c))},se.\u0275cmp=a.Yb({type:se,selectors:[["app-result-card"]],inputs:{review:"review"},decls:11,vars:3,consts:[[3,"click"],[1,"d-flex","flex-column"],[1,"align-self-start"],[1,"card-title"],["class","card-team-name",4,"ngIf"],[1,"align-self-end"],["mat-raised-button","",1,"btn","btn-success"],[1,"align-self-baseline"],[3,"reviewForm"],[1,"card-team-name"]],template:function(e,t){1&e&&(a.kc(0,"mat-card",0),a.sc("click",(function(){return t.results(t.review)})),a.kc(1,"div",1),a.kc(2,"div",2),a.kc(3,"div",3),a.Sc(4),a.jc(),a.Rc(5,ne,2,1,"div",4),a.jc(),a.kc(6,"div",5),a.kc(7,"button",6),a.Sc(8,"View results"),a.jc(),a.jc(),a.kc(9,"div",7),a.fc(10,"app-review-details",8),a.jc(),a.jc(),a.jc()),2&e&&(a.Sb(4),a.Tc(null==t.review?null:t.review.baseProjectName),a.Sb(1),a.Ac("ngIf","TEAM"===t.review.project.assignmentType),a.Sb(5),a.Ac("reviewForm",t.review))},directives:[_.a,n.t,q.b,$],styles:["mat-card[_ngcontent-%COMP%]{cursor:pointer}"]});const de=function(){return["title","ownerName","teamMemberNames","baseProjectName"]};function pe(e,t){if(1&e){const e=a.lc();a.kc(0,"div",1),a.kc(1,"div",2),a.kc(2,"div",3),a.Sc(3,"Acceptance Review Results"),a.jc(),a.kc(4,"div"),a.kc(5,"app-search",4),a.sc("searchResult",(function(t){return a.Jc(e),a.vc().onSearchResult(t)})),a.jc(),a.jc(),a.jc(),a.kc(6,"div",5),a.kc(7,"div"),a.kc(8,"span",6),a.sc("click",(function(){return a.Jc(e),a.vc().selectedTabIndex=0})),a.Sc(9,"All"),a.jc(),a.kc(10,"span",6),a.sc("click",(function(){return a.Jc(e),a.vc().selectedTabIndex=1})),a.Sc(11,"Team"),a.jc(),a.kc(12,"span",6),a.sc("click",(function(){return a.Jc(e),a.vc().selectedTabIndex=2})),a.Sc(13,"Solo"),a.jc(),a.jc(),a.kc(14,"div"),a.kc(15,"app-project-sort",7),a.sc("updated",(function(t){return a.Jc(e),a.vc().onUpdate(t)})),a.jc(),a.jc(),a.jc(),a.Rc(16,ae,2,1,"div",8),a.Rc(17,oe,2,1,"div",8),a.Rc(18,he,2,1,"div",8),a.jc()}if(2&e){const e=a.vc();a.Sb(5),a.Ac("projects",e.projects)("projectsCopy",e.projectsCopy)("fieldsToSearch",a.Cc(11,de))("label","Search for student or project..."),a.Sb(3),a.Ac("ngClass",0==e.selectedTabIndex?"selected":""),a.Sb(2),a.Ac("ngClass",1==e.selectedTabIndex?"selected":""),a.Sb(2),a.Ac("ngClass",2==e.selectedTabIndex?"selected":""),a.Sb(3),a.Ac("projects",e.projects),a.Sb(1),a.Ac("ngIf",0==e.selectedTabIndex),a.Sb(1),a.Ac("ngIf",1==e.selectedTabIndex),a.Sb(1),a.Ac("ngIf",2==e.selectedTabIndex)}}class ue{constructor(e,t){this.projectService=e,this._loaderService=t,this.reviews=[],this.projects=[],this.teamProjects=[],this.soloProjects=[],this.projectsCopy=[],this.selectedTabIndex=0}ngOnInit(){this._loaderService.show(),this.sub=this.projectService.getReviews().subscribe(e=>{this.reviews=e,this.projects=this.reviews.map(e=>(e.project.reviewForm=e,e.project)),this.projectsCopy=this.projects,this.assignProjectTypes(),this._loaderService.hide()})}assignProjectTypes(){this.teamProjects=this.projects.filter(e=>e.assignmentType==g.d),this.soloProjects=this.projects.filter(e=>e.assignmentType==g.c)}ngOnDestroy(){this.sub.unsubscribe(),this.sub=null}onSearchResult(e){this.projects=e,this.assignProjectTypes()}onUpdate(e){e&&this.assignProjectTypes()}}ue.\u0275fac=function(e){return new(e||ue)(a.ec(r.a),a.ec(m.a))},ue.\u0275cmp=a.Yb({type:ue,selectors:[["app-list-result"]],decls:1,vars:1,consts:[["class","header-container",4,"ngIf"],[1,"header-container"],[1,"d-flex","flex-column","mb-5"],[1,"h2","mb-3","ar-results-title"],[3,"projects","projectsCopy","fieldsToSearch","label","searchResult"],[1,"d-flex","justify-content-between","mb-4"],[1,"menu-item","mr-3",3,"ngClass","click"],[3,"projects","updated"],[4,"ngIf"],["class","result-card-box",4,"ngFor","ngForOf"],[1,"result-card-box"],[3,"review"]],template:function(e,t){1&e&&a.Rc(0,pe,19,12,"div",0),2&e&&a.Ac("ngIf",t.projects.length)},directives:[n.t,R.a,n.q,I.a,n.s,se],styles:[".header-container[_ngcontent-%COMP%]   .ar-results-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.selected[_ngcontent-%COMP%]{border-bottom:3px solid #28a745;font-weight:700}.menu-item[_ngcontent-%COMP%]{cursor:pointer}.result-card-box[_ngcontent-%COMP%]{margin-bottom:1em}"]});var ge=i("lGQG");function me(e,t){if(1&e){const e=a.lc();a.kc(0,"div",4),a.sc("click",(function(){return a.Jc(e),a.vc().review()})),a.kc(1,"div",5),a.Sc(2,"I'd like to do a review"),a.jc(),a.fc(3,"img",8),a.kc(4,"button",7),a.Sc(5,"Lets' see the projects"),a.jc(),a.jc()}}class be{constructor(e,t,i){this.router=e,this.authService=t,this.confirmationService=i,this.handleBetaNotification()}list(){this.router.navigateByUrl("project/acceptance-review/list-review")}review(){this.router.navigateByUrl("project/acceptance-review/select-review")}isStudent(){return this.authService.isStudent}handleBetaNotification(){null!==localStorage.getItem("isBetaNotificationShown")||(this.confirmationService.betaNotification(),localStorage.setItem("isBetaNotificationShown","true"))}}be.\u0275fac=function(e){return new(e||be)(a.ec(s.c),a.ec(ge.a),a.ec(v.a))},be.\u0275cmp=a.Yb({type:be,selectors:[["review-selector"]],decls:11,vars:1,consts:[[1,"d-flex","title-box"],[1,"h2","title"],[1,"d-flex","justify-content-center"],["class","holder mat-card text-center",3,"click",4,"ngIf"],[1,"holder","mat-card","text-center",3,"click"],[1,"holder-title"],["width","350","src","assets/reviewee.png"],["mat-raised-button","",1,"btn","btn-success"],["width","350","src","assets/reviewer.png"]],template:function(e,t){1&e&&(a.kc(0,"div",0),a.kc(1,"p",1),a.Sc(2,"Acceptance Review"),a.jc(),a.jc(),a.kc(3,"div",2),a.Rc(4,me,6,0,"div",3),a.kc(5,"div",4),a.sc("click",(function(){return t.list()})),a.kc(6,"div",5),a.Sc(7,"I'd like to check my results"),a.jc(),a.fc(8,"img",6),a.kc(9,"button",7),a.Sc(10,"Let's see the results"),a.jc(),a.jc(),a.jc()),2&e&&(a.Sb(4),a.Ac("ngIf",t.isStudent()))},directives:[n.t,q.b],styles:[".title-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#4a494b}.holder[_ngcontent-%COMP%]{height:416px;width:539px;border-radius:6px;position:relative;text-align:center;align-items:center;cursor:pointer;margin:1em;transition:box-shadow .1s ease-in}.holder[_ngcontent-%COMP%]   .holder-title[_ngcontent-%COMP%]{color:#4a494b;font-family:Montserrat,sans-serif;font-size:24px;line-height:39px;position:absolute;z-index:9999;top:5%;left:0;right:0}.holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:325px;width:325px;opacity:.5}.holder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block}.holder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:500;font-size:16px;letter-spacing:0;height:48px;width:216px}.holder[_ngcontent-%COMP%]:hover{box-shadow:0 3px 2px -2px rgba(0,0,0,.3),0 2px 2px 0 rgba(0,0,0,.24),0 2px 4px 0 rgba(0,0,0,.22)}"]});const ve=[{path:"",component:be},{path:"select-review",component:X},{path:"start-review/:ownerId/:baseProjectName/:assignmentType/:progLanguage",component:O},{path:"finish-review",component:J},{path:"view-review/:ownerId/:baseProjectName/:assignmentType/:progLanguage/:reviewId",component:ie},{path:"list-review",component:ue}];class fe{}fe.\u0275mod=a.cc({type:fe}),fe.\u0275inj=a.bc({factory:function(e){return new(e||fe)},imports:[[s.g.forChild(ve)],s.g]});var _e=i("u47x"),ye=i("8LU1"),we=i("0EQZ"),ke=i("R1ws");const je=["input"],Ce=function(){return{enterDuration:150}};const Se=new a.A("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let Oe=0;const xe={provide:c.h,useExisting:Object(a.jb)(()=>Me),multi:!0};class Pe{constructor(e,t){this.source=e,this.value=t}}class Me{constructor(e){this._changeDetector=e,this._value=null,this._name=`mat-radio-group-${Oe++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new a.t}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(ye.b)(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Object(ye.b)(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){const e=null!==this._selected&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(e=>{e.checked=this.value===e.value,e.checked&&(this._selected=e)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Pe(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}Me.\u0275fac=function(e){return new(e||Me)(a.ec(a.j))},Me.\u0275dir=a.Zb({type:Me,selectors:[["mat-radio-group"]],contentQueries:function(e,t,i){var n;(1&e&&a.Xb(i,Ie,!0),2&e)&&(a.Gc(n=a.tc())&&(t._radios=n))},hostAttrs:["role","radiogroup",1,"mat-radio-group"],inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[a.Rb([xe])]}),Me.ctorParameters=()=>[{type:a.j}],Me.propDecorators={change:[{type:a.N}],_radios:[{type:a.o,args:[Object(a.jb)(()=>Ie),{descendants:!0}]}],color:[{type:a.C}],name:[{type:a.C}],labelPosition:[{type:a.C}],value:[{type:a.C}],selected:[{type:a.C}],disabled:[{type:a.C}],required:[{type:a.C}]};const Re=Object(T.q)(Object(T.t)(class{constructor(e){this._elementRef=e}}));class Ie extends Re{constructor(e,t,i,n,s,r,c){super(t),this._changeDetector=i,this._focusMonitor=n,this._radioDispatcher=s,this._animationMode=r,this._providerOverride=c,this._uniqueId=`mat-radio-${++Oe}`,this.id=this._uniqueId,this.change=new a.t,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._removeUniqueSelectionListener=s.listen((e,t)=>{e!==this.id&&t===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const t=Object(ye.b)(e);this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Object(ye.b)(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Object(ye.b)(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e){this._focusMonitor.focusVia(this._inputElement,"keyboard",e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Pe(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputChange(e){e.stopPropagation();const t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}}Ie.\u0275fac=function(e){return new(e||Ie)(a.ec(Me,8),a.ec(a.r),a.ec(a.j),a.ec(_e.f),a.ec(we.d),a.ec(ke.a,8),a.ec(Se,8))},Ie.\u0275cmp=a.Yb({type:Ie,selectors:[["mat-radio-button"]],viewQuery:function(e,t){var i;(1&e&&a.Wc(je,!0),2&e)&&(a.Gc(i=a.tc())&&(t._inputElement=i.first))},hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,t){1&e&&a.sc("focus",(function(){return t._inputElement.nativeElement.focus()})),2&e&&(a.Tb("tabindex",-1)("id",t.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),a.Vb("mat-radio-checked",t.checked)("mat-radio-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-primary","primary"===t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},exportAs:["matRadioButton"],features:[a.Pb],ngContentSelectors:["*"],decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,t){if(1&e&&(a.zc(),a.kc(0,"label",0,1),a.kc(2,"div",2),a.fc(3,"div",3),a.fc(4,"div",4),a.kc(5,"input",5,6),a.sc("change",(function(e){return t._onInputChange(e)}))("click",(function(e){return t._onInputClick(e)})),a.jc(),a.kc(7,"div",7),a.fc(8,"div",8),a.jc(),a.jc(),a.kc(9,"div",9),a.kc(10,"span",10),a.Sc(11,"\xa0"),a.jc(),a.yc(12),a.jc(),a.jc()),2&e){const e=a.Hc(1);a.Tb("for",t.inputId),a.Sb(5),a.Ac("id",t.inputId)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex)("required",t.required),a.Tb("name",t.name)("value",t.value)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),a.Sb(2),a.Ac("matRippleTrigger",e)("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",a.Cc(18,Ce)),a.Sb(2),a.Vb("mat-radio-label-before","before"==t.labelPosition)}},directives:[T.k],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),Ie.ctorParameters=()=>[{type:Me,decorators:[{type:a.M}]},{type:a.r},{type:a.j},{type:_e.f},{type:we.d},{type:String,decorators:[{type:a.M},{type:a.y,args:[ke.a]}]},{type:void 0,decorators:[{type:a.M},{type:a.y,args:[Se]}]}],Ie.propDecorators={id:[{type:a.C}],name:[{type:a.C}],ariaLabel:[{type:a.C,args:["aria-label"]}],ariaLabelledby:[{type:a.C,args:["aria-labelledby"]}],ariaDescribedby:[{type:a.C,args:["aria-describedby"]}],checked:[{type:a.C}],value:[{type:a.C}],labelPosition:[{type:a.C}],disabled:[{type:a.C}],required:[{type:a.C}],color:[{type:a.C}],change:[{type:a.N}],_inputElement:[{type:a.db,args:["input"]}]};class Ae{}Ae.\u0275mod=a.cc({type:Ae}),Ae.\u0275inj=a.bc({factory:function(e){return new(e||Ae)},imports:[[T.l,T.e],T.e]});var Fe=i("o5iR"),Te=i("0k1G"),De=i("STbY"),Le=i("PCNd");i.d(t,"AcceptanceReviewModule",(function(){return qe}));class qe{}qe.\u0275mod=a.cc({type:qe}),qe.\u0275inj=a.bc({factory:function(e){return new(e||qe)},providers:[{provide:Se,useValue:{color:"primary"}}],imports:[[n.c,fe,Ae,c.f,c.o,q.c,_.c,Fe.TeamModule,Te.ProjectModule,De.b,F.b,Le.a,f.b]]})},d3UM:function(e,t,i){"use strict";i.d(t,"a",(function(){return E})),i.d(t,"b",(function(){return Y})),i.d(t,"c",(function(){return z}));var n=i("rDax"),s=i("ofXK"),r=i("fXoL"),a=i("FKr1"),c=i("kmnG"),o=i("u47x"),l=i("cH1L"),h=i("8LU1"),d=i("0EQZ"),p=i("FtGj"),u=i("vxfF"),g=i("3Pt+"),m=i("XNiG"),b=i("NXyV"),v=i("VRyK"),f=i("JX91"),_=i("eIep"),y=i("IzEk"),w=i("pLZG"),k=i("lJxs"),j=i("/uUt"),C=i("1G5W"),S=i("R0Ic");const O=["trigger"],x=["panel"];function P(e,t){if(1&e&&(r.kc(0,"span",8),r.Sc(1),r.jc()),2&e){const e=r.vc();r.Sb(1),r.Tc(e.placeholder||"\xa0")}}function M(e,t){if(1&e&&(r.kc(0,"span"),r.Sc(1),r.jc()),2&e){const e=r.vc(2);r.Sb(1),r.Tc(e.triggerValue||"\xa0")}}function R(e,t){1&e&&r.yc(0,0,["*ngSwitchCase","true"])}function I(e,t){if(1&e&&(r.kc(0,"span",9),r.Rc(1,M,2,1,"span",10),r.Rc(2,R,1,0,void 0,11),r.jc()),2&e){const e=r.vc();r.Ac("ngSwitch",!!e.customTrigger),r.Sb(2),r.Ac("ngSwitchCase",!0)}}function A(e,t){if(1&e){const e=r.lc();r.kc(0,"div",12),r.kc(1,"div",13,14),r.sc("@transformPanel.done",(function(t){return r.Jc(e),r.vc()._panelDoneAnimatingStream.next(t.toState)}))("keydown",(function(t){return r.Jc(e),r.vc()._handleKeydown(t)})),r.yc(3,1),r.jc(),r.jc()}if(2&e){const e=r.vc();r.Ac("@transformPanelWrap",void 0),r.Sb(1),r.Ub("mat-select-panel ",e._getPanelTheme(),""),r.Qc("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),r.Ac("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing")}}const F=[[["mat-select-trigger"]],"*"],T={transformPanelWrap:Object(S.n)("transformPanelWrap",[Object(S.m)("* => void",Object(S.i)("@transformPanel",[Object(S.f)()],{optional:!0}))]),transformPanel:Object(S.n)("transformPanel",[Object(S.k)("void",Object(S.l)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(S.k)("showing",Object(S.l)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(S.k)("showing-multiple",Object(S.l)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(S.m)("void => *",Object(S.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(S.m)("* => void",Object(S.e)("100ms 25ms linear",Object(S.l)({opacity:0})))])};let D=0;const L=new r.A("mat-select-scroll-strategy");const q=new r.A("MAT_SELECT_CONFIG"),N={provide:L,deps:[n.c],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class G{constructor(e,t){this.source=e,this.value=t}}const V=Object(a.q)(Object(a.t)(Object(a.r)(Object(a.s)(class{constructor(e,t,i,n,s){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=i,this._parentFormGroup=n,this.ngControl=s}}))));class z{}z.\u0275fac=function(e){return new(e||z)},z.\u0275dir=r.Zb({type:z,selectors:[["mat-select-trigger"]]});class E extends V{constructor(e,t,i,n,s,a,c,o,l,h,d,p,u,g){super(s,n,c,o,h),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=i,this._dir=a,this._parentFormField=l,this.ngControl=h,this._liveAnnouncer=u,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(e,t)=>e===t,this._uid=`mat-select-${D++}`,this._destroy=new m.a,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new m.a,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Object(b.a)(()=>{const e=this.options;return e?e.changes.pipe(Object(f.a)(e),Object(_.a)(()=>Object(v.a)(...e.map(e=>e.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(Object(y.a)(1),Object(_.a)(()=>this.optionSelectionChanges))}),this.openedChange=new r.t,this._openedStream=this.openedChange.pipe(Object(w.a)(e=>e),Object(k.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(w.a)(e=>!e),Object(k.a)(()=>{})),this.selectionChange=new r.t,this.valueChange=new r.t,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=p,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(d)||0,this.id=this.id,g&&(null!=g.disableOptionCentering&&(this.disableOptionCentering=g.disableOptionCentering),null!=g.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=g.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=Object(h.b)(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Object(h.b)(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Object(h.b)(e)}get compareWith(){return this._compareWith}set compareWith(e){if("function"!=typeof e)throw Error("`compareWith` must be a function.");this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){e!==this._value&&(this.writeValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Object(h.e)(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new d.c(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(j.a)(),Object(C.a)(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Object(C.a)(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Object(C.a)(this._destroy)).subscribe(e=>{e.added.forEach(e=>e.select()),e.removed.forEach(e=>e.deselect())}),this.options.changes.pipe(Object(f.a)(null),Object(C.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Object(y.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.options&&this._setSelectionByValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,i=t===p.b||t===p.l||t===p.g||t===p.i,n=t===p.d||t===p.j,s=this._keyManager;if(!s.isTyping()&&n&&!Object(p.o)(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){const i=this.selected;t===p.f||t===p.c?(t===p.f?s.setFirstItemActive():s.setLastItemActive(),e.preventDefault()):s.onKeydown(e);const n=this.selected;n&&i!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,i=e.keyCode,n=i===p.b||i===p.l,s=t.isTyping();if(i===p.f||i===p.c)e.preventDefault(),i===p.f?t.setFirstItemActive():t.setLastItemActive();else if(n&&e.altKey)e.preventDefault(),this.close();else if(s||i!==p.d&&i!==p.j||!t.activeItem||Object(p.o)(e))if(!s&&this._multiple&&i===p.a&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.disabled&&!e.selected);this.options.forEach(e=>{e.disabled||(t?e.select():e.deselect())})}else{const i=t.activeItemIndex;t.onKeydown(e),this._multiple&&n&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==i&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(y.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.multiple&&e){if(!Array.isArray(e))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),e.forEach(e=>this._selectValue(e)),this._sortValues()}else{this._selectionModel.clear();const t=this._selectValue(e);t?this._keyManager.setActiveItem(t):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const t=this.options.find(t=>{try{return null!=t.value&&this._compareWith(t.value,e)}catch(i){return Object(r.lb)()&&console.warn(i),!1}});return t&&this._selectionModel.select(t),t}_initKeyManager(){this._keyManager=new o.b(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(C.a)(this._destroy)).subscribe(()=>{!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close()}),this._keyManager.change.pipe(Object(C.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=Object(v.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(C.a)(e)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(v.a)(...this.options.map(e=>e._stateChanges)).pipe(Object(C.a)(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(e,t){const i=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),this._propagateChanges(e.value)),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,i)=>this.sortComparator?this.sortComparator(t,i,e):e.indexOf(t)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(new G(this,t)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(e=>e.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const e=this._keyManager.activeItemIndex||0,t=Object(a.n)(e,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=Object(a.o)(e+t,this._getItemHeight(),this.panel.nativeElement.scrollTop,256)}focus(e){this._elementRef.nativeElement.focus(e)}_getOptionIndex(e){return this.options.reduce((t,i,n)=>void 0!==t?t:e===i?n:void 0,void 0)}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),i=Math.min(t*e,256),n=t*e-i;let s=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);s+=Object(a.n)(s,this.options,this.optionGroups);const r=i/2;this._scrollTop=this._calculateOverlayScroll(s,r,n),this._offsetY=this._calculateOverlayOffsetY(s,r,n),this._checkOverlayWithinViewport(n)}_calculateOverlayScroll(e,t,i){const n=this._getItemHeight(),s=n*e-t+n/2;return Math.min(Math.max(0,s),i)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),i=this._isRtl(),n=this.multiple?56:32;let s;if(this.multiple)s=40;else{let e=this._selectionModel.selected[0]||this.options.first;s=e&&e.group?32:16}i||(s*=-1);const r=0-(e.left+s-(i?n:0)),a=e.right+s-t.width+(i?0:n);r>0?s+=r+8:a>0&&(s-=a+8),this.overlayDir.offsetX=Math.round(s),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,i){const n=this._getItemHeight(),s=(n-this._triggerRect.height)/2,r=Math.floor(256/n);let a;if(this._disableOptionCentering)return 0;if(0===this._scrollTop)a=e*n;else if(this._scrollTop===i){a=(e-(this._getItemCount()-r))*n+(n-(this._getItemCount()*n-256)%n)}else a=t-n/2;return Math.round(-1*a-s)}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),n=this._triggerRect.top-8,s=i.height-this._triggerRect.bottom-8,r=Math.abs(this._offsetY),a=Math.min(this._getItemCount()*t,256)-r-this._triggerRect.height;a>s?this._adjustPanelUp(a,s):r>n?this._adjustPanelDown(r,n,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const i=Math.round(e-t);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,i){const n=Math.round(e-t);if(this._scrollTop+=n,this._offsetY+=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}E.\u0275fac=function(e){return new(e||E)(r.ec(u.c),r.ec(r.j),r.ec(r.L),r.ec(a.a),r.ec(r.r),r.ec(l.c,8),r.ec(g.l,8),r.ec(g.e,8),r.ec(c.b,8),r.ec(g.i,10),r.pc("tabindex"),r.ec(L),r.ec(o.i),r.ec(q,8))},E.\u0275cmp=r.Yb({type:E,selectors:[["mat-select"]],contentQueries:function(e,t,i){var n;(1&e&&(r.Xb(i,z,!0),r.Xb(i,a.i,!0),r.Xb(i,a.h,!0)),2&e)&&(r.Gc(n=r.tc())&&(t.customTrigger=n.first),r.Gc(n=r.tc())&&(t.options=n),r.Gc(n=r.tc())&&(t.optionGroups=n))},viewQuery:function(e,t){var i;(1&e&&(r.Wc(O,!0),r.Wc(x,!0),r.Wc(n.a,!0)),2&e)&&(r.Gc(i=r.tc())&&(t.trigger=i.first),r.Gc(i=r.tc())&&(t.panel=i.first),r.Gc(i=r.tc())&&(t.overlayDir=i.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(e,t){1&e&&r.sc("keydown",(function(e){return t._handleKeydown(e)}))("focus",(function(){return t._onFocus()}))("blur",(function(){return t._onBlur()})),2&e&&(r.Tb("id",t.id)("tabindex",t.tabIndex)("aria-label",t._getAriaLabel())("aria-labelledby",t._getAriaLabelledby())("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-owns",t.panelOpen?t._optionIds:null)("aria-multiselectable",t.multiple)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),r.Vb("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[r.Rb([{provide:c.c,useExisting:E},{provide:a.c,useExisting:E}]),r.Pb,r.Qb],ngContentSelectors:["mat-select-trigger","*"],decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(r.zc(F),r.kc(0,"div",0,1),r.sc("click",(function(){return t.toggle()})),r.kc(3,"div",2),r.Rc(4,P,2,1,"span",3),r.Rc(5,I,3,2,"span",4),r.jc(),r.kc(6,"div",5),r.fc(7,"div",6),r.jc(),r.jc(),r.Rc(8,A,4,10,"ng-template",7),r.sc("backdropClick",(function(){return t.close()}))("attach",(function(){return t._onAttached()}))("detach",(function(){return t.close()}))),2&e){const e=r.Hc(1);r.Sb(3),r.Ac("ngSwitch",t.empty),r.Sb(1),r.Ac("ngSwitchCase",!0),r.Sb(1),r.Ac("ngSwitchCase",!1),r.Sb(3),r.Ac("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[n.b,s.x,s.y,n.a,s.z,s.q],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[T.transformPanelWrap,T.transformPanel]},changeDetection:0}),E.ctorParameters=()=>[{type:u.c},{type:r.j},{type:r.L},{type:a.a},{type:r.r},{type:l.c,decorators:[{type:r.M}]},{type:g.l,decorators:[{type:r.M}]},{type:g.e,decorators:[{type:r.M}]},{type:c.b,decorators:[{type:r.M}]},{type:g.i,decorators:[{type:r.X},{type:r.M}]},{type:String,decorators:[{type:r.h,args:["tabindex"]}]},{type:void 0,decorators:[{type:r.y,args:[L]}]},{type:o.i},{type:void 0,decorators:[{type:r.M},{type:r.y,args:[q]}]}],E.propDecorators={trigger:[{type:r.db,args:["trigger"]}],panel:[{type:r.db,args:["panel"]}],overlayDir:[{type:r.db,args:[n.a]}],options:[{type:r.o,args:[a.i,{descendants:!0}]}],optionGroups:[{type:r.o,args:[a.h,{descendants:!0}]}],panelClass:[{type:r.C}],customTrigger:[{type:r.n,args:[z]}],placeholder:[{type:r.C}],required:[{type:r.C}],multiple:[{type:r.C}],disableOptionCentering:[{type:r.C}],compareWith:[{type:r.C}],value:[{type:r.C}],ariaLabel:[{type:r.C,args:["aria-label"]}],ariaLabelledby:[{type:r.C,args:["aria-labelledby"]}],errorStateMatcher:[{type:r.C}],typeaheadDebounceInterval:[{type:r.C}],sortComparator:[{type:r.C}],id:[{type:r.C}],openedChange:[{type:r.N}],_openedStream:[{type:r.N,args:["opened"]}],_closedStream:[{type:r.N,args:["closed"]}],selectionChange:[{type:r.N}],valueChange:[{type:r.N}]};class Y{}Y.\u0275mod=r.cc({type:Y}),Y.\u0275inj=r.bc({factory:function(e){return new(e||Y)},providers:[N],imports:[[s.c,n.f,a.j,a.e],c.d,a.j,a.e]})}}]);